prt "declare a secret number"
dci secretNum
mov 10 secretNum

prt "declare 'guess' and ''numChances"
dci guess
dci numChances

# store numbers in an array
dca arr 5

L11: prt "A new game started"
# initialize the array
mov -1 arr[0]
mov -1 arr[1]
mov -1 arr[2]
mov -1 arr[3]
mov -1 arr[4]

prt "Only 5 chances to guess the correct number"
mov 5 numChances

L1: prt "numChances remaining..."
prt numChances

# only one chance remaining, jump to L8
cmp numChances 1
jeq L8

# only two chances remaining, jump to L7
cmp numChances 3
jls L7
# only three chances remaining, jump to L6
jeq L6

# only four chances remaining, jump to L5
cmp numChances 4
jeq L5

# only five chances remaining, jump to L3
jmr L3

# jump to L9 for comparison
jmp L9

L3: prt "Please enter your first guess"
rdi arr[0]
mov arr[0] guess
add -1 numChances
jmp L9

L5: prt "Please enter your second guess"
rdi arr[1]
mov arr[1] guess
add -1 numChances
jmp L9

L6: prt "Please enter your third guess"
rdi arr[2]
mov arr[2] guess
add -1 numChances
jmp L9

L7: prt "Please enter your fourth guess"
rdi arr[3]
mov arr[3] guess
add -1 numChances
jmp L9

L8: prt "Please enter your fifth guess"
rdi arr[4]
mov arr[4] guess
add -1 numChances

prt "Comparing your guess with the secret number..."
L9: cmp guess secretNum
jeq L12

prt "Wrong number"
# no more chances
cmp numChances 0
jeq L10

# jump to the beginning
jmr L1

L12: prt "You win!"
jmp L13
L10: prt "You've used all of your chances"
L13: prt "Would you like to try again? (1 for yes, 0 for no)"
dci option
rdi option
prt "Your option was ..."
prt option
cmp option 0
# start over
jmr L11

prt "Your guesses were..."
prt arr[0]
prt arr[1]
prt arr[2]
prt arr[3]
prt arr[4]

prt "The secret number is ..."
prt secretNum

prt "Your last guess was ..."
prt guess
end
